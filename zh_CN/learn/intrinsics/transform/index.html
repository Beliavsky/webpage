
<!DOCTYPE html>

<html lang="zh-CN">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>Matrix multiplication, dot product, and array shifts &#8212; Fortran Programming Language</title>
<script>
  document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
  document.documentElement.dataset.theme = localStorage.getItem("theme") || "light"
</script>

  <!-- Loaded before other Sphinx assets -->
  <link href="../../../_static/styles/theme.css?digest=92025949c220c2e29695" rel="stylesheet">
<link href="../../../_static/styles/pydata-sphinx-theme.css?digest=92025949c220c2e29695" rel="stylesheet">


  <link rel="stylesheet"
    href="../../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
    <link rel="icon" sizes="256x256" type="image/ico" href="../../../_static/images/favicon.ico" />
    <link rel="stylesheet" type="text/css" href="../../../_static/custom.css" />

  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../../_static/scripts/pydata-sphinx-theme.js?digest=92025949c220c2e29695">

    <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/sphinx_highlight.js"></script>
    <script src="../../../_static/clipboard.min.js"></script>
    <script src="../../../_static/copybutton.js"></script>
    <script src="../../../_static/translations.js"></script>
    <script src="../../../_static/design-tabs.js"></script>
    <link rel="index" title="索引" href="../../../genindex/" />
    <link rel="search" title="搜索" href="../../../search/" />
    <link rel="next" title="Types and kinds" href="../type/" />
    <link rel="prev" title="访问外部系统信息" href="../system/" /> 
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script type="text/javascript">
  var pr_number = -1;
  $(document).ready(function () {
    if (window.location.href.indexOf("/pr/") > -1) {
      pr_number = window.location.href.split("/").indexOf("pr") + 1;
      document.getElementById("pr").innerHTML =
        "pull request " + window.location.href.split("/")[pr_number];
      document.getElementById("pr").href =
        "https://github.com/fortran-lang/webpage/pull/" +
        window.location.href.split("/")[pr_number];
      var banner = document.getElementById("banner");
      banner.style.display = "block";
    }
  });
</script>
<div id="banner" style="display: none" class="container">
  <h3>
    <svg
      xmlns="http://www.w3.org/2000/svg"
      width="24"
      height="24"
      viewBox="0 0 24 24"
      fill="none"
      stroke="currentColor"
      stroke-width="2"
      stroke-linecap="round"
      stroke-linejoin="round"
      class="feather feather-git-pull-request"
    >
      <circle cx="18" cy="18" r="3"></circle>
      <circle cx="6" cy="6" r="3"></circle>
      <path d="M13 6h3a2 2 0 0 1 2 2v7"></path>
      <line x1="6" y1="9" x2="6" y2="21"></line>
    </svg>
    <b>Site preview: </b>you are previewing unpublished changes for
    <a id="pr"></a>
  </h3>
</div> 
<link
  rel="alternate"
  type="application/atom+xml"
  href="../../../news/atom.xml"
  title="Blog"
/>
 
<link href="True" rel="stylesheet" />

<style type="text/css">
  ul.ablog-archive {
    list-style: none;
    overflow: auto;
    margin-left: 0px;
  }
  ul.ablog-archive li {
    float: left;
    margin-right: 5px;
    font-size: 80%;
  }
  ul.postlist a {
    font-style: italic;
  }
  ul.postlist-style-disc {
    list-style-type: disc;
  }
  ul.postlist-style-none {
    list-style-type: none;
  }
  ul.postlist-style-circle {
    list-style-type: circle;
  }
</style>

  </head>
  
  
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="180" data-default-mode="">
    <div class="bd-header-announcement container-fluid" id="banner">
      

    </div>

    
    <nav class="bd-header navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main"><div class="bd-header__inner container-xl">

  <div id="navbar-start">
    
    
  


<a class="navbar-brand logo" href="../../../">
  
  
  
  
    <img src="../../../_static/fortran-logo-256x256.png" class="logo__image only-light" alt="Logo image">
    <img src="../../../_static/fortran-logo-256x256.png" class="logo__image only-dark" alt="Logo image">
  
  
</a>
    
    <span id="theme-switch" class="btn btn-sm btn-outline-primary navbar-btn rounded-circle">
    <a class="theme-switch" data-mode="light"><i class="fas fa-sun"></i></a>
    <a class="theme-switch" data-mode="dark"><i class="far fa-moon"></i></a>
    <a class="theme-switch" data-mode="auto"><i class="fas fa-adjust"></i></a>
</span>
    
    <div class="dropdown" id="version_switcher">
  <button
    type="button"
    class="btn btn-sm navbar-btn dropdown-toggle"
    id="version_switcher_button"
    data-toggle="dropdown"
  >
    zh_CN
    <!-- this text may get changed later by javascript -->
    <span class="caret"></span>
  </button>
  <div
    id="version_switcher_menu"
    class="dropdown-menu list-group-flush py-0"
    aria-labelledby="version_switcher_button"
  >
    <!-- dropdown will be populated by javascript on page load -->
  </div>
</div>

<!-- NOTE: this JS must live here (not in our global JS file) because it relies
     on being processed by Jinja before it is run (specifically for replacing
     variables learn/intrinsics/transform and {'json_url': 'https://fortran-lang.org/', 'version_match': 'zh_CN'}.
-->

<script type="text/javascript">
  // Check if corresponding page path exists in other version of docs
  // and, if so, go there instead of the homepage of the other docs version
  function checkPageExistsAndRedirect(event) {
    const currentFilePath = "learn/intrinsics/transform",
      tryUrl = event.target.getAttribute("href");
    location.href = tryUrl;
    // this prevents the browser from following the href of the clicked node
    // (which is fine because this function takes care of redirecting)
    return false;
  }

  // Populate the version switcher from the JSON config file
  (function () {
    const currentFilePath = "learn/intrinsics/transform";
    const indexFilePath = "../../../";
    let btn = document.getElementById("version_switcher_button");
    // Set empty strings by default so that these attributes exist and can be used in CSS selectors
    btn.dataset["activeVersionName"] = "";
    btn.dataset["activeVersion"] = "";
    // create links to the corresponding page in the other docs versions
    data = [
      {
        name: "en",
        version: "en",
        url: "../en/",
      },
      {
        name: "cs",
        version: "cs",
        url: "../cs/",
      },
      {
        name: "de",
        version: "de",
        url: "../de/",
      },
      {
        name: "es",
        version: "es",
        url: "../es/",
      },
      {
        name: "fr",
        version: "fr",
        url: "../fr/",
      },
      {
        name: "ja",
        version: "ja",
        url: "../ja/",
      },
      {
        name: "nl",
        version: "nl",
        url: "../nl/",
      },
      {
        name: "pt",
        version: "pt",
        url: "../pt/",
      },
      {
        name: "ru",
        version: "ru",
        url: "../ru/",
      },
      {
        name: "zh_CN",
        version: "zh_CN",
        url: "../zh_CN/",
      },
    ];
    console.log(data);
    $.each(data, function (index, entry) {
      // if no custom name specified (e.g., "latest"), use version string
      if (!("name" in entry)) {
        entry.name = entry.version;
      }
      // create the node
      const node = document.createElement("a");
      node.setAttribute("class", "list-group-item list-group-item-action py-1");
      node.textContent = `${entry.name}`;
      node.setAttribute(
        "href",
        `${indexFilePath}${entry.url}${currentFilePath}`,
      );
      // on click, AJAX calls will check if the linked page exists before
      // trying to redirect, and if not, will redirect to the homepage
      // for that version of the docs.
      node.onclick = checkPageExistsAndRedirect;
      // Add dataset values for the version and name in case people want
      // to apply CSS styling based on this information.
      node.dataset["versionName"] = entry.name;
      node.dataset["version"] = entry.version;

      $("#version_switcher_menu").append(node);
      // replace dropdown button text with the preferred display name of
      // this version, rather than using sphinx's  variable.
      // also highlight the dropdown entry for the currently-viewed
      // version's entry
      if (entry.version == "zh_CN") {
        node.classList.add("active");
        btn.innerText = btn.dataset["activeVersionName"] = entry.name;
        btn.dataset["activeVersion"] = entry.version;
      }
    });
  })();
</script>
    
  </div>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-collapsible" aria-controls="navbar-collapsible" aria-expanded="false" aria-label="Toggle navigation">
    <span class="fas fa-bars"></span>
  </button>

  
  <div id="navbar-collapsible" class=" collapse navbar-collapse">
    <div id="navbar-center" class="ml-auto">
      
      <div class="navbar-center-item">
        <ul id="navbar-main-elements" class="navbar-nav">
    <li class="toctree-l1 current active nav-item">
 <a class="reference internal nav-link" href="../../">
  学习
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../../compilers/">
  编译器
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../../community/">
  社区
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../../packages/">
  Packages
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../../news/">
  新闻
 </a>
</li>

    
</ul>
      </div>
      
    </div>

    <div id="navbar-end">
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          <a class="nav-link" href="https://fortran-lang.discourse.group/" rel="noopener" target="_blank" title="Discourse"><span><i class="fab fa-discourse"></i></span>
            <label class="sr-only">Discourse</label></a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="https://twitter.com/fortranlang" rel="noopener" target="_blank" title="Twitter"><span><i class="fab fa-twitter"></i></span>
            <label class="sr-only">Twitter</label></a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="https://github.com/fortran-lang" rel="noopener" target="_blank" title="GitHub"><span><i class="fab fa-github"></i></span>
            <label class="sr-only">GitHub</label></a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="https://fortran-lang.org/en/news/atom.xml" rel="noopener" target="_blank" title="RSS"><span><i class="fas fa-rss"></i></span>
            <label class="sr-only">RSS</label></a>
        </li>
      </ul>
      </div>
      
      <div class="navbar-end-item">
        <form class="bd-search d-flex align-items-center" action="../../../search/" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="搜索" aria-label="Search" autocomplete="off" >
</form>
      </div>
      
    </div>
  </div>
</div>
    </nav>
    

    <div class="bd-container container-xl">
      <div class="bd-container__inner row">
          

<!-- Only show if we have sidebars configured, else just a small margin  -->
<div class="bd-sidebar-primary col-12 col-md-3 bd-sidebar">
  <div class="sidebar-start-items"><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <div class="bd-toc-item active">
    <ul class="current nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../os_setup/">
   设置操作系统
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../os_setup/choose_compiler/">
     Choosing a compiler
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../os_setup/install_gfortran/">
     Installing GFortran
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../os_setup/text_editors/">
     Text Editors
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../os_setup/ides/">
     IDEs
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../os_setup/tips/">
     Smart Tips
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../quickstart/">
   快速入门教程
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../quickstart/hello_world/">
     Hello world
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../quickstart/variables/">
     变量
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../quickstart/arrays_strings/">
     数组和字符串
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../quickstart/operators_control_flow/">
     操作符和流程控制
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../quickstart/organising_code/">
     组织代码结构
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../quickstart/derived_types/">
     派生类型
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../building_programs/">
   构建程序
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
  <label for="toctree-checkbox-3">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../building_programs/compiling_source/">
     编译源代码
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../building_programs/linking_pieces/">
     链接对象
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../building_programs/runtime_libraries/">
     运行时库
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../building_programs/include_files/">
     包含文件和模块
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../building_programs/managing_libraries/">
     管理库（静态和动态库）
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../building_programs/build_tools/">
     构建工具
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../building_programs/project_make/">
     一个make的介绍
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../building_programs/distributing/">
     分发您的程序
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../best_practices/">
   Fortran最佳实践
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
  <label for="toctree-checkbox-4">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../best_practices/style_guide/">
     Fortran风格指南
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../best_practices/floating_point/">
     浮点数
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../best_practices/integer_division/">
     整数除法
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../best_practices/modules_programs/">
     模块和程序
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../best_practices/arrays/">
     数组
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../best_practices/multidim_arrays/">
     多维数组
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../best_practices/element_operations/">
     数组的逐元操作
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../best_practices/allocatable_arrays/">
     可分配数组
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../best_practices/file_io/">
     文件输入/输出
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../best_practices/callbacks/">
     回调
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../best_practices/type_casting/">
     回调中的类型转换
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="../">
   Fortran 内置函数
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/>
  <label for="toctree-checkbox-5">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2">
    <a class="reference internal" href="../array/">
     数组的属性和属性
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../bit/">
     位级别查询和操作
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../character/">
     操作
     <em>
      character
     </em>
     变量的基本过程
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../compiler/">
     有关用于构建的编译器和编译器选项的信息
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../cfi/">
     绑定到 C 接口的过程
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../math/">
     一般数学函数
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../model/">
     控制和查询当前数值模型
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../numeric/">
     数值的操作和属性
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../parallel/">
     使用 co_arrays 和 co_indexed 数组进行并行编程
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../state/">
     一般和杂项内置函数
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../system/">
     访问外部系统信息
    </a>
   </li>
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     Matrix multiplication, dot product, and array shifts
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../type/">
     Types and kinds
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference external" href="https://www.gnu.org/licenses/old-licenses/fdl-1.2.en.html">
     GNU 自由文档许可证
    </a>
   </li>
  </ul>
 </li>
</ul>

  </div>
</nav>
  </div>
  <div class="sidebar-end-items">
  </div>
</div>


          


<div class="bd-sidebar-secondary d-none d-xl-block col-xl-2 bd-toc">
  
    
    <div class="toc-item">
        
<br />

<div class="tocsection onthispage">
  <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav" class="page-toc"><ul class="nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#cshift">
   cshift
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#name">
     <strong>
      名称
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#syntax">
     <strong>
      语法
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#description">
     <strong>
      说明
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#arguments">
     <strong>
      参数
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#returns">
     <strong>
      返回
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#examples">
     <strong>
      示例
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#standard">
     <strong>
      标准
     </strong>
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#fortran-lang-intrinsic-descriptions">
       fortran 语言内在描述
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#dot-product">
   dot_product
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id1">
     <strong>
      名称
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id2">
     <strong>
      语法
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id3">
     <strong>
      说明
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id4">
     <strong>
      参数
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id5">
     <strong>
      返回
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id6">
     <strong>
      示例
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id7">
     <strong>
      标准
     </strong>
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id8">
       fortran 语言内在描述
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#eoshift">
   eoshift
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id9">
     <strong>
      名称
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id10">
     <strong>
      语法
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id11">
     <strong>
      说明
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id12">
     <strong>
      参数
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id13">
     <strong>
      返回
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id14">
     <strong>
      示例
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id15">
     <strong>
      标准
     </strong>
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id16">
       fortran 语言内在描述
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#matmul">
   matmul
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id17">
     <strong>
      名称
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id18">
     <strong>
      语法
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id19">
     <strong>
      说明
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id20">
     <strong>
      参数
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id21">
     <strong>
      返回
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id22">
     <strong>
      标准
     </strong>
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id23">
       fortran 语言内在描述
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#parity">
   parity
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id24">
     <strong>
      名称
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id25">
     <strong>
      语法
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id26">
     <strong>
      说明
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id27">
     <strong>
      参数
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id28">
     <strong>
      返回
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id29">
     <strong>
      示例
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id30">
     <strong>
      标准
     </strong>
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id31">
       fortran 语言内在描述
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#null">
   null
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id32">
     <strong>
      名称
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id33">
     <strong>
      语法
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id34">
     <strong>
      说明
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id35">
     <strong>
      参数
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id36">
     <strong>
      返回
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id37">
     <strong>
      示例
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id38">
     <strong>
      标准
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#see-also">
     <strong>
      另见
     </strong>
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id39">
       fortran 语言内在描述
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#reduce">
   reduce
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id40">
     <strong>
      名称
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id41">
     <strong>
      语法
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id42">
     <strong>
      description
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#options">
     <strong>
      options
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#result">
     <strong>
      结果
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id43">
     <strong>
      examples
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id44">
     <strong>
      另见
     </strong>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id45">
     <strong>
      标准
     </strong>
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#fortran-lang-intrinsic-descriptions-license-mit-urbanjost">
       Fortran内置过程描述（许可证：MIT）@urbanjost
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
</ul>
</nav> 
    </div>
    
  
</div>


          
          
          <div class="bd-content col-12 col-md-9 col-xl-7">
              
              <article class="bd-article" role="main">
                 <section class="tex2jax_ignore mathjax_ignore" id="matrix-multiplication-dot-product-and-array-shifts">
<h1>Matrix multiplication, dot product, and array shifts<a class="headerlink" href="#matrix-multiplication-dot-product-and-array-shifts" title="此标题的永久链接">#</a></h1>
<section id="cshift">
<h2>cshift<a class="headerlink" href="#cshift" title="此标题的永久链接">#</a></h2>
<section id="name">
<h3><strong>名称</strong><a class="headerlink" href="#name" title="此标题的永久链接">#</a></h3>
<p><strong>cshift</strong>(3) - [TRANSFORMATIONAL] 数组的循环移位元素</p>
</section>
<section id="syntax">
<h3><strong>语法</strong><a class="headerlink" href="#syntax" title="此标题的永久链接">#</a></h3>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="k">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">cshift</span><span class="p">(</span><span class="k">array</span><span class="p">,</span><span class="w"> </span><span class="n">shift</span><span class="p">,</span><span class="w"> </span><span class="nb">dim</span><span class="p">)</span><span class="w"></span>
</pre></div>
</div>
</section>
<section id="description">
<h3><strong>说明</strong><a class="headerlink" href="#description" title="此标题的永久链接">#</a></h3>
<p><strong>cshift(array, shift [, dim])</strong> 对 <strong>array</strong> 的元素沿 <strong>dim</strong> 的维度进行循环移位。如果省略 <strong>dim</strong>，则将其视为 <strong>1</strong>。 <strong>dim</strong> 是 <em>integer</em> 类型的标量，范围为 <strong>1 &lt;= dim &lt;= n</strong>，其中”n”是 ** array**的维度。如果 <strong>array</strong> 的维度为 1，则 <strong>array</strong> 的所有元素移动 <strong>shift</strong> 位。如果数组维度大于 1，则沿给定维度移动 <strong>array</strong> 的所有第一维度部分。元素从每一行的一端移出，在另一端移回。</p>
</section>
<section id="arguments">
<h3><strong>参数</strong><a class="headerlink" href="#arguments" title="此标题的永久链接">#</a></h3>
<ul class="simple">
<li><dl class="simple myst">
<dt><strong>数组</strong></dt><dd><p>应是一个任意类型的数组。</p>
</dd>
</dl>
</li>
<li><dl class="simple myst">
<dt><strong>shift</strong></dt><dd><p>类型应为 <em>integer</em>。</p>
</dd>
</dl>
</li>
<li><dl class="simple myst">
<dt><strong>暗淡</strong></dt><dd><p>类型应为 <em>integer</em>。</p>
</dd>
</dl>
</li>
</ul>
</section>
<section id="returns">
<h3><strong>返回</strong><a class="headerlink" href="#returns" title="此标题的永久链接">#</a></h3>
<p>返回与 <strong>array</strong> 参数具有相同类型和维度的数组。</p>
</section>
<section id="examples">
<h3><strong>示例</strong><a class="headerlink" href="#examples" title="此标题的永久链接">#</a></h3>
<p>示例程序：</p>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="k">program </span><span class="n">demo_cshift</span><span class="w"></span>
<span class="k">implicit none</span>
<span class="kt">integer</span><span class="p">,</span><span class="w"> </span><span class="k">dimension</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">a</span><span class="w"></span>
<span class="w">    </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">reshape</span><span class="p">(</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w"> </span><span class="mi">9</span><span class="w"> </span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="p">])</span><span class="w"></span>
<span class="w">    </span><span class="k">print</span><span class="w"> </span><span class="s1">&#39;(3i3)&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="p">(</span><span class="mi">1</span><span class="p">,:)</span><span class="w"></span>
<span class="w">    </span><span class="k">print</span><span class="w"> </span><span class="s1">&#39;(3i3)&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="p">(</span><span class="mi">2</span><span class="p">,:)</span><span class="w"></span>
<span class="w">    </span><span class="k">print</span><span class="w"> </span><span class="s1">&#39;(3i3)&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="p">(</span><span class="mi">3</span><span class="p">,:)</span><span class="w"></span>
<span class="w">    </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">cshift</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">SHIFT</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="p">],</span><span class="w"> </span><span class="nb">DIM</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="k">print</span><span class="w"> </span><span class="o">*</span><span class="w"></span>
<span class="w">    </span><span class="k">print</span><span class="w"> </span><span class="s1">&#39;(3i3)&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="p">(</span><span class="mi">1</span><span class="p">,:)</span><span class="w"></span>
<span class="w">    </span><span class="k">print</span><span class="w"> </span><span class="s1">&#39;(3i3)&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="p">(</span><span class="mi">2</span><span class="p">,:)</span><span class="w"></span>
<span class="w">    </span><span class="k">print</span><span class="w"> </span><span class="s1">&#39;(3i3)&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="p">(</span><span class="mi">3</span><span class="p">,:)</span><span class="w"></span>
<span class="k">end program </span><span class="n">demo_cshift</span><span class="w"></span>
</pre></div>
</div>
<p>结果：</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>     1  4  7
     2  5  8
     3  6  9

     4  7  1
     8  2  5
     9  3  6
</pre></div>
</div>
</section>
<section id="standard">
<h3><strong>标准</strong><a class="headerlink" href="#standard" title="此标题的永久链接">#</a></h3>
<p>Fortran 95 及更高版本</p>
<section id="fortran-lang-intrinsic-descriptions">
<h4>fortran 语言内在描述<a class="headerlink" href="#fortran-lang-intrinsic-descriptions" title="此标题的永久链接">#</a></h4>
</section>
</section>
</section>
<section id="dot-product">
<h2>dot_product<a class="headerlink" href="#dot-product" title="此标题的永久链接">#</a></h2>
<section id="id1">
<h3><strong>名称</strong><a class="headerlink" href="#id1" title="此标题的永久链接">#</a></h3>
<p><strong>dot_product</strong>(3) - [TRANSFORMATIONAL] 点积函数</p>
</section>
<section id="id2">
<h3><strong>语法</strong><a class="headerlink" href="#id2" title="此标题的永久链接">#</a></h3>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="k">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">dot_product</span><span class="p">(</span><span class="n">vector_a</span><span class="p">,</span><span class="w"> </span><span class="n">vector_b</span><span class="p">)</span><span class="w"></span>
</pre></div>
</div>
</section>
<section id="id3">
<h3><strong>说明</strong><a class="headerlink" href="#id3" title="此标题的永久链接">#</a></h3>
<p><strong>dot_product(vector_a, vector_b)</strong> 计算两个向量 vector<em>a 和 vector_b 的点积相乘。这两个向量可以是数字的也可以是逻辑的，并且必须是维度为 1 且大小相等的数组。如果向量是 _integer</em> 或 <em>real</em>，则结果是 <strong>sum(vector_a*vector_b)</strong>。如果向量是 <em>complex</em>，则结果是 <strong>sum(conjg(vector_a)*vector_b)</strong>。如果向量是 <em>logical</em>，则结果是 <strong>any(vector_a .and. vector_b)</strong>。</p>
</section>
<section id="id4">
<h3><strong>参数</strong><a class="headerlink" href="#id4" title="此标题的永久链接">#</a></h3>
<ul class="simple">
<li><dl class="simple myst">
<dt><strong>vector_a</strong></dt><dd><p>类型应为数字或 <em>logical</em> ，维度为1。</p>
</dd>
</dl>
</li>
<li><dl class="simple myst">
<dt><strong>vector_b</strong></dt><dd><p>如果向量a 是数字类型，则类型应该是数字；如果向量a 是_logical* 类型，则类型应该是_logical*。 vector_b 应该是一个一维数组。</p>
</dd>
</dl>
</li>
</ul>
</section>
<section id="id5">
<h3><strong>返回</strong><a class="headerlink" href="#id5" title="此标题的永久链接">#</a></h3>
<p>如果参数是数字，则返回值是数字类型的标量，<em>integer</em>、<em>real</em> 或 <em>complex</em>。如果参数是 <em>logical</em>，则返回值为 .true. 或.false..</p>
</section>
<section id="id6">
<h3><strong>示例</strong><a class="headerlink" href="#id6" title="此标题的永久链接">#</a></h3>
<p>示例程序：</p>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="k">program </span><span class="n">demo_dot_prod</span><span class="w"></span>
<span class="k">implicit none</span>
<span class="k">    </span><span class="kt">integer</span><span class="p">,</span><span class="w"> </span><span class="k">dimension</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="w"></span>
<span class="w">    </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="p">]</span><span class="w"></span>
<span class="w">    </span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="w"> </span><span class="p">]</span><span class="w"></span>
<span class="w">    </span><span class="k">print</span><span class="w"> </span><span class="s1">&#39;(3i3)&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="w"></span>
<span class="w">    </span><span class="k">print</span><span class="w"> </span><span class="o">*</span><span class="w"></span>
<span class="w">    </span><span class="k">print</span><span class="w"> </span><span class="s1">&#39;(3i3)&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="w"></span>
<span class="w">    </span><span class="k">print</span><span class="w"> </span><span class="o">*</span><span class="w"></span>
<span class="w">    </span><span class="k">print</span><span class="w"> </span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="nb">dot_product</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">)</span><span class="w"></span>
<span class="k">end program </span><span class="n">demo_dot_prod</span><span class="w"></span>
</pre></div>
</div>
<p>结果：</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>     1  2  3

     4  5  6

             32
</pre></div>
</div>
</section>
<section id="id7">
<h3><strong>标准</strong><a class="headerlink" href="#id7" title="此标题的永久链接">#</a></h3>
<p>Fortran 95 及更高版本</p>
<section id="id8">
<h4>fortran 语言内在描述<a class="headerlink" href="#id8" title="此标题的永久链接">#</a></h4>
</section>
</section>
</section>
<section id="eoshift">
<h2>eoshift<a class="headerlink" href="#eoshift" title="此标题的永久链接">#</a></h2>
<section id="id9">
<h3><strong>名称</strong><a class="headerlink" href="#id9" title="此标题的永久链接">#</a></h3>
<p><strong>eoshift</strong>(3) - [TRANSFORMATIONAL] 数组的结束移位</p>
</section>
<section id="id10">
<h3><strong>语法</strong><a class="headerlink" href="#id10" title="此标题的永久链接">#</a></h3>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="k">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">eoshift</span><span class="p">(</span><span class="k">array</span><span class="p">,</span><span class="w"> </span><span class="n">shift</span><span class="p">,</span><span class="w"> </span><span class="n">boundary</span><span class="p">,</span><span class="w"> </span><span class="nb">dim</span><span class="p">)</span><span class="w"></span>
</pre></div>
</div>
</section>
<section id="id11">
<h3><strong>说明</strong><a class="headerlink" href="#id11" title="此标题的永久链接">#</a></h3>
<p><strong>eoshift(array, shift[, boundary, dim])</strong> 沿 <strong>dim</strong> 的维度对 <strong>array</strong> 的元素执行结束移位。如果省略 <strong>dim</strong>，则将其视为 <strong>1</strong>。 <strong>dim</strong> 是 <em>integer</em> 类型的标量，范围为 <strong>1 &lt;= DIM &lt;= n</strong> 其中 <strong>“n”</strong> 是** array** 的维度。如果 <strong>array</strong> 的维度为 1，则 <strong>array</strong> 的所有元素移动 <strong>shift</strong> 位。如果维度 大于 1，则沿给定维度移动 <strong>array</strong> 的所有完整的第1维 部分。移出每一等级的一端的元素将被丢弃。如果 <strong>boundary</strong> 存在，则将 <strong>boundary</strong> 中的相应值复制回另一端。如果 <strong>boundary</strong> 不存在，则根据 <strong>array</strong> 的类型复制以下内容。</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Array Type     | Boundary Value
-----------------------------------------------------
Numeric        | 0 of the type and kind of **array**
Logical        | .false.
Character(len) |  LEN blanks
</pre></div>
</div>
</section>
<section id="id12">
<h3><strong>参数</strong><a class="headerlink" href="#id12" title="此标题的永久链接">#</a></h3>
<ul class="simple">
<li><dl class="simple myst">
<dt><strong>数组</strong></dt><dd><p>可以是任何类型，不能是标量。</p>
</dd>
</dl>
</li>
<li><dl class="simple myst">
<dt><strong>shift</strong></dt><dd><p>类型应为 <em>integer</em>。</p>
</dd>
</dl>
</li>
<li><dl class="simple myst">
<dt><strong>boundary</strong></dt><dd><p>与 ARRAY 类型相同。</p>
</dd>
</dl>
</li>
<li><dl class="simple myst">
<dt><strong>暗淡</strong></dt><dd><p>类型应为 <em>integer</em>。</p>
</dd>
</dl>
</li>
</ul>
</section>
<section id="id13">
<h3><strong>返回</strong><a class="headerlink" href="#id13" title="此标题的永久链接">#</a></h3>
<p>返回与 <strong>array</strong> 参数具有相同类型和维度的数组。</p>
</section>
<section id="id14">
<h3><strong>示例</strong><a class="headerlink" href="#id14" title="此标题的永久链接">#</a></h3>
<p>示例程序：</p>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="k">program </span><span class="n">demo_eoshift</span><span class="w"></span>
<span class="k">implicit none</span>
<span class="kt">integer</span><span class="p">,</span><span class="w"> </span><span class="k">dimension</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">a</span><span class="w"></span>
<span class="kt">integer</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">i</span><span class="w"></span>

<span class="w">    </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">reshape</span><span class="p">(</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w"> </span><span class="mi">9</span><span class="w"> </span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="p">])</span><span class="w"></span>
<span class="w">    </span><span class="k">print</span><span class="w"> </span><span class="s1">&#39;(3i3)&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="p">(</span><span class="n">i</span><span class="p">,:),</span><span class="n">i</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span><span class="w"></span>

<span class="w">    </span><span class="k">print</span><span class="w"> </span><span class="o">*</span><span class="w"></span>

<span class="w">    </span><span class="c">! shift it</span>
<span class="w">    </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">eoshift</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">SHIFT</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">],</span><span class="w"> </span><span class="n">BOUNDARY</span><span class="o">=-</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="nb">DIM</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="k">print</span><span class="w"> </span><span class="s1">&#39;(3i3)&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="p">(</span><span class="n">i</span><span class="p">,:),</span><span class="n">i</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span><span class="w"></span>

<span class="k">end program </span><span class="n">demo_eoshift</span><span class="w"></span>
</pre></div>
</div>
<p>结果：</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>     1  4  7
     2  5  8
     3  6  9

     4  7 -5
     8 -5 -5
     6  9 -5
</pre></div>
</div>
</section>
<section id="id15">
<h3><strong>标准</strong><a class="headerlink" href="#id15" title="此标题的永久链接">#</a></h3>
<p>Fortran 95 及更高版本</p>
<section id="id16">
<h4>fortran 语言内在描述<a class="headerlink" href="#id16" title="此标题的永久链接">#</a></h4>
</section>
</section>
</section>
<section id="matmul">
<h2>matmul<a class="headerlink" href="#matmul" title="此标题的永久链接">#</a></h2>
<section id="id17">
<h3><strong>名称</strong><a class="headerlink" href="#id17" title="此标题的永久链接">#</a></h3>
<p><strong>matmul</strong>(3) - [TRANSFORMATIONAL] 矩阵乘法</p>
</section>
<section id="id18">
<h3><strong>语法</strong><a class="headerlink" href="#id18" title="此标题的永久链接">#</a></h3>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="k">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">matmul</span><span class="p">(</span><span class="n">matrix_a</span><span class="p">,</span><span class="w"> </span><span class="n">matrix_b</span><span class="p">)</span><span class="w"></span>
</pre></div>
</div>
</section>
<section id="id19">
<h3><strong>说明</strong><a class="headerlink" href="#id19" title="此标题的永久链接">#</a></h3>
<p>对数字或逻辑参数执行矩阵乘法。</p>
</section>
<section id="id20">
<h3><strong>参数</strong><a class="headerlink" href="#id20" title="此标题的永久链接">#</a></h3>
<ul class="simple">
<li><dl class="simple myst">
<dt><strong>matrix_a</strong></dt><dd><p><em>integer</em>、<em>real</em>、<em>complex</em> 或 <em>logical</em> 类型的数组，维度为一或二。</p>
</dd>
</dl>
</li>
<li><dl class="simple myst">
<dt><strong>matrix_b</strong></dt><dd><p>如果 <strong>matrix_a</strong> 为数值类型，则为 <em>integer</em>、<em>real</em> 或 <em>complex</em> 类型的数组；否则，<em>logical</em> 类型的数组。维度应为一或二，<strong>matrix_b</strong> 的第一个（或唯一）维度应等于 <strong>matrix_a</strong> 的最后一个（或唯一）维度。</p>
</dd>
</dl>
</li>
</ul>
</section>
<section id="id21">
<h3><strong>返回</strong><a class="headerlink" href="#id21" title="此标题的永久链接">#</a></h3>
<p><strong>matrix_a</strong> 和 <strong>matrix_b</strong> 的矩阵乘积。结果的类型和种类遵循通常的类型和种类提升规则，如 * 或 .and. 运算。</p>
</section>
<section id="id22">
<h3><strong>标准</strong><a class="headerlink" href="#id22" title="此标题的永久链接">#</a></h3>
<p>Fortran 95 及更高版本</p>
<section id="id23">
<h4>fortran 语言内在描述<a class="headerlink" href="#id23" title="此标题的永久链接">#</a></h4>
</section>
</section>
</section>
<section id="parity">
<h2>parity<a class="headerlink" href="#parity" title="此标题的永久链接">#</a></h2>
<section id="id24">
<h3><strong>名称</strong><a class="headerlink" href="#id24" title="此标题的永久链接">#</a></h3>
<p><strong>parity</strong>(3) - [TRANSFORMATIONAL] 数组归约异或</p>
</section>
<section id="id25">
<h3><strong>语法</strong><a class="headerlink" href="#id25" title="此标题的永久链接">#</a></h3>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="k">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">parity</span><span class="p">(</span><span class="n">mask</span><span class="p">,</span><span class="w"> </span><span class="nb">dim</span><span class="p">)</span><span class="w"></span>

<span class="w">    </span><span class="k">function </span><span class="nb">parity</span><span class="p">(</span><span class="n">mask</span><span class="p">,</span><span class="w"> </span><span class="nb">dim</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="k">type</span><span class="p">(</span><span class="kt">logical</span><span class="p">(</span><span class="nb">kind</span><span class="o">=</span><span class="n">LKIND</span><span class="p">))</span><span class="w">                    </span><span class="kd">::</span><span class="w"> </span><span class="nb">dim</span>
<span class="nb">    </span><span class="k">type</span><span class="p">(</span><span class="kt">logical</span><span class="p">(</span><span class="nb">kind</span><span class="o">=</span><span class="n">LKIND</span><span class="p">)),</span><span class="k">intent</span><span class="p">(</span><span class="n">in</span><span class="p">)</span><span class="w">         </span><span class="kd">::</span><span class="w"> </span><span class="n">mask</span><span class="p">(..)</span><span class="w"></span>
<span class="w">    </span><span class="k">type</span><span class="p">(</span><span class="kt">integer</span><span class="p">(</span><span class="nb">kind</span><span class="o">=</span><span class="nb">KIND</span><span class="p">)),</span><span class="k">intent</span><span class="p">(</span><span class="n">in</span><span class="p">),</span><span class="k">optional</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="nb">dim</span><span class="w"></span>
</pre></div>
</div>
<p>其中 KIND 和 LKIND 是该类型支持的任何种类。</p>
</section>
<section id="id26">
<h3><strong>说明</strong><a class="headerlink" href="#id26" title="此标题的永久链接">#</a></h3>
<p>沿维度 <strong>dim</strong> 计算 <strong>mask</strong> 的奇偶校验（即使用 .xor. 的归约）。</p>
</section>
<section id="id27">
<h3><strong>参数</strong><a class="headerlink" href="#id27" title="此标题的永久链接">#</a></h3>
<ul class="simple">
<li><dl class="simple myst">
<dt><strong>mask</strong></dt><dd><p>应为 <em>logical</em> 类型的数组。</p>
</dd>
</dl>
</li>
<li><dl class="simple myst">
<dt><strong>dim</strong></dt><dd><p>(Optional) shall be a scalar of type <em>integer</em> with a value in the
range from <strong>1 to n</strong>, where <strong>n</strong> equals the rank of <strong>mask</strong>.</p>
</dd>
</dl>
</li>
</ul>
</section>
<section id="id28">
<h3><strong>返回</strong><a class="headerlink" href="#id28" title="此标题的永久链接">#</a></h3>
<p>结果与 <strong>mask</strong> 的类型相同。</p>
<p>如果 <strong>dim</strong> 不存在，则返回具有 <strong>mask</strong> 中所有元素的奇偶校验的标量：如果奇数个元素是 <strong>.true.</strong>，则返回 <strong>.true.</strong> ,否则返回__.false.__ 。</p>
<p>当指定 <strong>dim</strong> 时，返回的形状类似于 <strong>mask</strong> 的形状，但删除了第 <strong>dim</strong> 维。</p>
</section>
<section id="id29">
<h3><strong>示例</strong><a class="headerlink" href="#id29" title="此标题的永久链接">#</a></h3>
<p>示例程序：</p>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="k">program </span><span class="n">demo_parity</span><span class="w"></span>
<span class="k">implicit none</span>
<span class="kt">logical</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">x</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">.</span><span class="n">true</span><span class="p">.,</span><span class="w"> </span><span class="p">.</span><span class="n">false</span><span class="p">.</span><span class="w"> </span><span class="p">]</span><span class="w"></span>
<span class="w">   </span><span class="k">print</span><span class="w"> </span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="nb">parity</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w"></span>
<span class="k">end program </span><span class="n">demo_parity</span><span class="w"></span>
</pre></div>
</div>
<p>结果：</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>    T
</pre></div>
</div>
</section>
<section id="id30">
<h3><strong>标准</strong><a class="headerlink" href="#id30" title="此标题的永久链接">#</a></h3>
<p>Fortran 2008 及更高版本</p>
<section id="id31">
<h4>fortran 语言内在描述<a class="headerlink" href="#id31" title="此标题的永久链接">#</a></h4>
</section>
</section>
</section>
<section id="null">
<h2>null<a class="headerlink" href="#null" title="此标题的永久链接">#</a></h2>
<section id="id32">
<h3><strong>名称</strong><a class="headerlink" href="#id32" title="此标题的永久链接">#</a></h3>
<p><strong>null</strong>(3) - [TRANSFORMATIONAL] 返回非关联指针的函数</p>
</section>
<section id="id33">
<h3><strong>语法</strong><a class="headerlink" href="#id33" title="此标题的永久链接">#</a></h3>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="n">ptr</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="nb">null</span><span class="p">(</span><span class="n">mold</span><span class="p">)</span><span class="w"></span>
</pre></div>
</div>
</section>
<section id="id34">
<h3><strong>说明</strong><a class="headerlink" href="#id34" title="此标题的永久链接">#</a></h3>
<p>返回一个解除关联的指针。</p>
<p>如果存在 <strong>mold</strong>，则返回相同类型的非关联指针，否则类型由上下文确定。</p>
<p>在 <em>Fortran 95</em> 中，<strong>mold</strong> 是可选的。请注意，<em>Fortran 2003</em> 包括了需要它的情况。</p>
</section>
<section id="id35">
<h3><strong>参数</strong><a class="headerlink" href="#id35" title="此标题的永久链接">#</a></h3>
<ul class="simple">
<li><dl class="simple myst">
<dt><strong>mold</strong></dt><dd><p>（可选）应为任何关联状态和任何类型的指针。</p>
</dd>
</dl>
</li>
</ul>
</section>
<section id="id36">
<h3><strong>返回</strong><a class="headerlink" href="#id36" title="此标题的永久链接">#</a></h3>
<p>解除关联的指针或未分配的可分配实体。</p>
</section>
<section id="id37">
<h3><strong>示例</strong><a class="headerlink" href="#id37" title="此标题的永久链接">#</a></h3>
<p>示例程序：</p>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="c">!program demo_null</span>
<span class="k">module </span><span class="n">showit</span><span class="w"></span>
<span class="k">implicit none</span>
<span class="k">private</span>
<span class="kt">character</span><span class="p">(</span><span class="nb">len</span><span class="o">=*</span><span class="p">),</span><span class="k">parameter</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">g</span><span class="o">=</span><span class="s1">&#39;(*(g0,1x))&#39;</span><span class="w"></span>
<span class="k">public </span><span class="n">gen</span><span class="w"></span>
<span class="c">! a generic interface that only differs in the</span>
<span class="c">! type of the pointer the second argument is</span>
<span class="k">interface </span><span class="n">gen</span><span class="w"></span>
<span class="w"> </span><span class="k">module procedure </span><span class="n">s1</span><span class="w"></span>
<span class="w"> </span><span class="k">module procedure </span><span class="n">s2</span><span class="w"></span>
<span class="k">end interface</span>

<span class="k">contains</span>

<span class="k">subroutine </span><span class="n">s1</span><span class="w"> </span><span class="p">(</span><span class="n">j</span><span class="p">,</span><span class="w"> </span><span class="n">pi</span><span class="p">)</span><span class="w"></span>
<span class="w"> </span><span class="kt">integer </span><span class="n">j</span><span class="w"></span>
<span class="w"> </span><span class="kt">integer</span><span class="p">,</span><span class="w"> </span><span class="k">pointer</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">pi</span><span class="w"></span>
<span class="w">   </span><span class="k">if</span><span class="p">(</span><span class="nb">associated</span><span class="p">(</span><span class="n">pi</span><span class="p">))</span><span class="k">then</span>
<span class="k">      write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="n">g</span><span class="p">)</span><span class="s1">&#39;Two integers in S1:,&#39;</span><span class="p">,</span><span class="n">j</span><span class="p">,</span><span class="s1">&#39;and&#39;</span><span class="p">,</span><span class="n">pi</span><span class="w"></span>
<span class="w">   </span><span class="k">else</span>
<span class="k">      write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="n">g</span><span class="p">)</span><span class="s1">&#39;One integer in S1:,&#39;</span><span class="p">,</span><span class="n">j</span><span class="w"></span>
<span class="w">   </span><span class="k">endif</span>
<span class="k">end subroutine </span><span class="n">s1</span><span class="w"></span>

<span class="k">subroutine </span><span class="n">s2</span><span class="w"> </span><span class="p">(</span><span class="n">k</span><span class="p">,</span><span class="w"> </span><span class="n">pr</span><span class="p">)</span><span class="w"></span>
<span class="w"> </span><span class="kt">integer </span><span class="n">k</span><span class="w"></span>
<span class="w"> </span><span class="kt">real</span><span class="p">,</span><span class="w"> </span><span class="k">pointer</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">pr</span><span class="w"></span>
<span class="w">   </span><span class="k">if</span><span class="p">(</span><span class="nb">associated</span><span class="p">(</span><span class="n">pr</span><span class="p">))</span><span class="k">then</span>
<span class="k">      write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="n">g</span><span class="p">)</span><span class="s1">&#39;integer and real in S2:,&#39;</span><span class="p">,</span><span class="n">k</span><span class="p">,</span><span class="s1">&#39;and&#39;</span><span class="p">,</span><span class="n">pr</span><span class="w"></span>
<span class="w">   </span><span class="k">else</span>
<span class="k">      write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="n">g</span><span class="p">)</span><span class="s1">&#39;One integer in S2:,&#39;</span><span class="p">,</span><span class="n">k</span><span class="w"></span>
<span class="w">   </span><span class="k">endif</span>
<span class="k">end subroutine </span><span class="n">s2</span><span class="w"></span>

<span class="k">end module </span><span class="n">showit</span><span class="w"></span>

<span class="k">use </span><span class="n">showit</span><span class="p">,</span><span class="w"> </span><span class="k">only</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">gen</span><span class="w"></span>

<span class="kt">real</span><span class="p">,</span><span class="k">target</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">20</span><span class="mf">0.0</span><span class="w"></span>
<span class="kt">integer</span><span class="p">,</span><span class="k">target</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">100</span><span class="w"></span>

<span class="kt">real</span><span class="p">,</span><span class="w"> </span><span class="k">pointer</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">real_ptr</span><span class="w"></span>
<span class="kt">integer</span><span class="p">,</span><span class="w"> </span><span class="k">pointer</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">integer_ptr</span><span class="w"></span>

<span class="c">! so how do we call S1() or S2() with a disassociated pointer?</span>

<span class="c">! the answer is the null() function with a mold value</span>

<span class="c">! since s1() and s2() both have a first integer</span>
<span class="c">! argument the NULL() pointer must be associated</span>
<span class="c">! to a real or integer type via the mold option</span>
<span class="c">! so the following can distinguish whether s1(1)</span>
<span class="c">! or s2() is called, even though the pointers are</span>
<span class="c">! not associated or defined</span>

<span class="k">call </span><span class="n">gen</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="nb">null</span><span class="w"> </span><span class="p">(</span><span class="n">real_ptr</span><span class="p">)</span><span class="w"> </span><span class="p">)</span><span class="w">    </span><span class="c">! invokes s2</span>
<span class="k">call </span><span class="n">gen</span><span class="w"> </span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="nb">null</span><span class="w"> </span><span class="p">(</span><span class="n">integer_ptr</span><span class="p">)</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="c">! invokes s1</span>
<span class="n">real_ptr</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">x</span><span class="w"></span>
<span class="n">integer_ptr</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">i</span><span class="w"></span>
<span class="k">call </span><span class="n">gen</span><span class="w"> </span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="n">real_ptr</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="c">! invokes s2</span>
<span class="k">call </span><span class="n">gen</span><span class="w"> </span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="n">integer_ptr</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="c">! invokes s1</span>

<span class="k">end</span><span class="w"></span>
<span class="c">!end program demo_null</span>
</pre></div>
</div>
<p>结果：</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>   One integer in S2:, 1
   One integer in S1:, 2
   integer and real in S2:, 3 and 200.000000
   Two integers in S1:, 4 and 100
</pre></div>
</div>
</section>
<section id="id38">
<h3><strong>标准</strong><a class="headerlink" href="#id38" title="此标题的永久链接">#</a></h3>
<p>Fortran 95 及更高版本</p>
</section>
<section id="see-also">
<h3><strong>另见</strong><a class="headerlink" href="#see-also" title="此标题的永久链接">#</a></h3>
<p><span class="xref myst"><strong>associated</strong>(3)</span></p>
<section id="id39">
<h4>fortran 语言内在描述<a class="headerlink" href="#id39" title="此标题的永久链接">#</a></h4>
</section>
</section>
</section>
<section id="reduce">
<h2>reduce<a class="headerlink" href="#reduce" title="此标题的永久链接">#</a></h2>
<section id="id40">
<h3><strong>名称</strong><a class="headerlink" href="#id40" title="此标题的永久链接">#</a></h3>
<p><strong>reduce</strong>(3) - [TRANSFORMATIONAL] general reduction of an array</p>
</section>
<section id="id41">
<h3><strong>语法</strong><a class="headerlink" href="#id41" title="此标题的永久链接">#</a></h3>
<p>There are two forms to this function:</p>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="w">   </span><span class="n">reduce</span><span class="p">(</span><span class="k">array</span><span class="p">,</span><span class="w"> </span><span class="n">operation</span><span class="p">,</span><span class="w"> </span><span class="n">mask</span><span class="p">,</span><span class="w"> </span><span class="n">identity</span><span class="p">,</span><span class="w"> </span><span class="n">ordered</span><span class="p">)</span><span class="w"></span>
<span class="w">   </span><span class="n">reduce</span><span class="p">(</span><span class="k">array</span><span class="p">,</span><span class="w"> </span><span class="n">operation</span><span class="p">,</span><span class="w"> </span><span class="nb">dim</span><span class="p">,</span><span class="w"> </span><span class="n">mask</span><span class="p">,</span><span class="w"> </span><span class="n">identity</span><span class="p">,</span><span class="w"> </span><span class="n">ordered</span><span class="p">)</span><span class="w"></span>
</pre></div>
</div>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="w">      </span><span class="k">type</span><span class="p">(</span><span class="k">TYPE</span><span class="p">),</span><span class="k">intent</span><span class="p">(</span><span class="n">in</span><span class="p">)</span><span class="w">          </span><span class="kd">::</span><span class="w"> </span><span class="k">array</span>
<span class="k">      pure function</span><span class="w">                  </span><span class="kd">::</span><span class="w"> </span><span class="n">operation</span><span class="w"></span>
<span class="w">      </span><span class="kt">integer</span><span class="p">,</span><span class="k">intent</span><span class="p">(</span><span class="n">in</span><span class="p">),</span><span class="k">optional</span><span class="w">    </span><span class="kd">::</span><span class="w"> </span><span class="nb">dim</span>
<span class="nb">      </span><span class="kt">logical</span><span class="p">,</span><span class="k">optional</span><span class="w">               </span><span class="kd">::</span><span class="w"> </span><span class="n">mask</span><span class="w"></span>
<span class="w">      </span><span class="k">type</span><span class="p">(</span><span class="k">TYPE</span><span class="p">),</span><span class="k">intent</span><span class="p">(</span><span class="n">in</span><span class="p">),</span><span class="k">optional</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">identity</span><span class="w"></span>
<span class="w">      </span><span class="kt">logical</span><span class="p">,</span><span class="k">intent</span><span class="p">(</span><span class="n">in</span><span class="p">),</span><span class="k">optional</span><span class="w">    </span><span class="kd">::</span><span class="w"> </span><span class="n">ordered</span><span class="w"></span>
</pre></div>
</div>
<p>where TYPE may be of any type. TYPE must be the same for <strong>array</strong>
and <strong>identity</strong>.</p>
</section>
<section id="id42">
<h3><strong>description</strong><a class="headerlink" href="#id42" title="此标题的永久链接">#</a></h3>
<p>Reduce a list of conditionally selected values from an array to a
single value by iteratively applying a binary function.</p>
<p>Common in functional programming, a <strong>reduce</strong> function applies a
binary operator (a pure function with two arguments) to all elements
cumulatively.</p>
<p><strong>reduce</strong> is a “higher-order” function; ie. it is a function that
receives other functions as arguments.</p>
<p>The <strong>reduce</strong> function receives a binary operator (a function with
two arguments, just like the basic arithmetic operators). It is first
applied to two unused values in the list to generate an accumulator
value which is subsequently used as the first argument to the function
as the function is recursively applied to all the remaining selected
values in the input array.</p>
</section>
<section id="options">
<h3><strong>options</strong><a class="headerlink" href="#options" title="此标题的永久链接">#</a></h3>
<ul>
<li><dl class="simple myst">
<dt><strong>数组</strong></dt><dd><p>An array of any type and allowed rank to select values from.</p>
</dd>
</dl>
</li>
<li><dl class="simple myst">
<dt><strong>operation</strong></dt><dd><p>shall be a pure function with exactly two arguments;
each argument shall be a scalar, nonallocatable,
nonpointer, nonpolymorphic, nonoptional dummy data object
with the same type and type parameters as <strong>array</strong>. If
one argument has the ASYNCHRONOUS, TARGET, or VALUE
attribute, the other shall have that attribute. Its result
shall be a nonpolymorphic scalar and have the same type
and type parameters as <strong>array</strong>. <strong>operation</strong> should
implement a mathematically associative operation. It
need not be commutative.</p>
</dd>
</dl>
<p>NOTE</p>
<p>If <strong>operation</strong> is not computationally associative, REDUCE
without ORDERED=.TRUE. with the same argument values
might not always produce the same result, as the processor
can apply the associative law to the evaluation.</p>
<p>Many operations that mathematically are associative are
not when applied to floating-point numbers. The order
you sum values in may affect the result, for example.</p>
</li>
<li><dl class="simple myst">
<dt><strong>暗淡</strong></dt><dd><p>An integer scalar with a value in the range
1&lt;= <strong>dim</strong> &lt;= n, where n is the rank of <strong>array</strong>.</p>
</dd>
</dl>
</li>
<li><dl class="simple myst">
<dt><strong>mask</strong></dt><dd><p>（可选）应为逻辑类型并且应符合<strong>array</strong>。</p>
</dd>
</dl>
<p>When present only those elements of <strong>array</strong> are passed
to <strong>operation</strong> for which the corresponding elements
of <strong>mask</strong> are true, as if *<em>array</em> was filtered with
<strong>pack(3)</strong>.</p>
</li>
<li><dl class="simple myst">
<dt><strong>identity</strong></dt><dd><p>shall be scalar with the same type and type parameters as <strong>array</strong>.
If the initial sequence is empty, the result has the value <strong>identify</strong>
if <strong>identify</strong> is present, and otherwise, error termination is
initiated.</p>
</dd>
</dl>
</li>
<li><dl class="simple myst">
<dt><strong>ordered</strong></dt><dd><p>shall be a logical scalar. If <strong>ordered</strong> is present with the value
<em>.true.</em>, the calls to the <strong>operator</strong> function begins with the first
two elements of <strong>array</strong> and the process continues in row-column
order until the sequence has only one element which is the value of the
reduction. Otherwise, the compiler is free to assume that the operation
is commutative and may evaluate the reduction in the most optimal way.</p>
</dd>
</dl>
</li>
</ul>
</section>
<section id="result">
<h3><strong>结果</strong><a class="headerlink" href="#result" title="此标题的永久链接">#</a></h3>
<p>The result is of the same type and type parameters as <strong>array</strong>. It is
scalar if <strong>dim</strong> does not appear.</p>
<p>If <strong>dim</strong> is present, it indicates the one dimension along which to
perform the reduction, and the resultant array has a rank reduced by
one relative to the input array.</p>
</section>
<section id="id43">
<h3><strong>examples</strong><a class="headerlink" href="#id43" title="此标题的永久链接">#</a></h3>
<p>The following examples all use the function MY_MULT, which returns
the product of its two real arguments.</p>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="w">   </span><span class="k">program </span><span class="n">demo_reduce</span><span class="w"></span>
<span class="w">   </span><span class="k">implicit none</span>
<span class="k">   </span><span class="kt">character</span><span class="p">(</span><span class="nb">len</span><span class="o">=*</span><span class="p">),</span><span class="k">parameter</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">f</span><span class="o">=</span><span class="s1">&#39;(&quot;[&quot;,*(g0,&quot;,&quot;,1x),&quot;]&quot;)&#39;</span><span class="w"></span>
<span class="w">   </span><span class="kt">integer</span><span class="p">,</span><span class="k">allocatable</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">arr</span><span class="p">(:),</span><span class="w"> </span><span class="n">b</span><span class="p">(:,:)</span><span class="w"></span>

<span class="w">   </span><span class="c">! Basic usage:</span>
<span class="w">      </span><span class="c">! the product of the elements of an array</span>
<span class="w">      </span><span class="n">arr</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="p">]</span><span class="w"></span>
<span class="w">      </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="n">arr</span><span class="w"></span>
<span class="w">      </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="s1">&#39;product=&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">reduce</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span><span class="w"> </span><span class="n">my_mult</span><span class="p">)</span><span class="w"></span>
<span class="w">      </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="s1">&#39;sum=&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">reduce</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span><span class="w"> </span><span class="n">my_sum</span><span class="p">)</span><span class="w"></span>

<span class="w">   </span><span class="c">! Examples of masking:</span>
<span class="w">      </span><span class="c">! the product of only the positive elements of an array</span>
<span class="w">      </span><span class="n">arr</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">3</span><span class="w"> </span><span class="p">]</span><span class="w"></span>
<span class="w">      </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="o">*</span><span class="p">)</span><span class="s1">&#39;positive value product=&#39;</span><span class="p">,</span><span class="n">reduce</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span><span class="w"> </span><span class="n">my_mult</span><span class="p">,</span><span class="w"> </span><span class="n">mask</span><span class="o">=</span><span class="n">arr</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span><span class="w"></span>
<span class="w">      </span><span class="c">!write(*,*)&#39;positive value sum=&#39;,reduce(pack(arr,mask=arr&gt;0), my_mult )</span>
<span class="w">   </span><span class="c">! sum values ignoring negative values</span>
<span class="w">      </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="o">*</span><span class="p">)</span><span class="s1">&#39;sum positive values=&#39;</span><span class="p">,</span><span class="n">reduce</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span><span class="w"> </span><span class="n">my_sum</span><span class="p">,</span><span class="w"> </span><span class="n">mask</span><span class="o">=</span><span class="n">arr</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span><span class="w"></span>
<span class="w">      </span><span class="c">!write(*,*)&#39;sum positive values=&#39;,reduce(pack(arr,mask=arr&gt;0), my_sum )</span>

<span class="w">   </span><span class="c">! a single-valued array returns the single value as the</span>
<span class="w">   </span><span class="c">! calls to the operator stop when only one element remains</span>
<span class="w">      </span><span class="n">arr</span><span class="o">=</span><span class="p">[</span><span class="w"> </span><span class="mi">1234</span><span class="w"> </span><span class="p">]</span><span class="w"></span>
<span class="w">      </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="o">*</span><span class="p">)</span><span class="s1">&#39;single value sum&#39;</span><span class="p">,</span><span class="n">reduce</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span><span class="w"> </span><span class="n">my_sum</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
<span class="w">      </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="o">*</span><span class="p">)</span><span class="s1">&#39;single value product&#39;</span><span class="p">,</span><span class="n">reduce</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span><span class="w"> </span><span class="n">my_mult</span><span class="w"> </span><span class="p">)</span><span class="w"></span>

<span class="w">   </span><span class="c">! Example of operations along a dimension:</span>
<span class="w">   </span><span class="c">!  If B is the array   1 3 5</span>
<span class="w">   </span><span class="c">!                      2 4 6</span>
<span class="w">      </span><span class="n">b</span><span class="o">=</span><span class="nb">reshape</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span><span class="w"></span>
<span class="w">      </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="n">f</span><span class="p">)</span><span class="w"> </span><span class="n">REDUCE</span><span class="p">(</span><span class="n">B</span><span class="p">,</span><span class="w"> </span><span class="n">MY_MULT</span><span class="p">),</span><span class="s1">&#39;should be [720]&#39;</span><span class="w"></span>
<span class="w">      </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="n">f</span><span class="p">)</span><span class="w"> </span><span class="n">REDUCE</span><span class="p">(</span><span class="n">B</span><span class="p">,</span><span class="w"> </span><span class="n">MY_MULT</span><span class="p">,</span><span class="w"> </span><span class="nb">DIM</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span><span class="s1">&#39;should be [2,12,30]&#39;</span><span class="w"></span>
<span class="w">      </span><span class="k">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="n">f</span><span class="p">)</span><span class="w"> </span><span class="n">REDUCE</span><span class="p">(</span><span class="n">B</span><span class="p">,</span><span class="w"> </span><span class="n">MY_MULT</span><span class="p">,</span><span class="w"> </span><span class="nb">DIM</span><span class="o">=</span><span class="mi">2</span><span class="p">),</span><span class="s1">&#39;should be [15, 48]&#39;</span><span class="w"></span>

<span class="w">   </span><span class="k">contains</span>

<span class="k">   pure function </span><span class="n">my_mult</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="k">result</span><span class="p">(</span><span class="n">c</span><span class="p">)</span><span class="w"></span>
<span class="w">   </span><span class="kt">integer</span><span class="p">,</span><span class="k">intent</span><span class="p">(</span><span class="n">in</span><span class="p">)</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="w"></span>
<span class="w">   </span><span class="kt">integer</span><span class="w">            </span><span class="kd">::</span><span class="w"> </span><span class="n">c</span><span class="w"></span>
<span class="w">      </span><span class="n">c</span><span class="o">=</span><span class="n">a</span><span class="o">*</span><span class="n">b</span><span class="w"></span>
<span class="w">   </span><span class="k">end function </span><span class="n">my_mult</span><span class="w"></span>

<span class="w">   </span><span class="k">pure function </span><span class="n">my_sum</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="k">result</span><span class="p">(</span><span class="n">c</span><span class="p">)</span><span class="w"></span>
<span class="w">   </span><span class="kt">integer</span><span class="p">,</span><span class="k">intent</span><span class="p">(</span><span class="n">in</span><span class="p">)</span><span class="w"> </span><span class="kd">::</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="w"></span>
<span class="w">   </span><span class="kt">integer</span><span class="w">            </span><span class="kd">::</span><span class="w"> </span><span class="n">c</span><span class="w"></span>
<span class="w">      </span><span class="n">c</span><span class="o">=</span><span class="n">a</span><span class="o">+</span><span class="n">b</span><span class="w"></span>
<span class="w">   </span><span class="k">end function </span><span class="n">my_sum</span><span class="w"></span>

<span class="w">   </span><span class="k">end program </span><span class="n">demo_reduce</span><span class="w"></span>
</pre></div>
</div>
<p>结果：</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>     &gt;  1 2 3 4
     &gt;  product= 24
     &gt;  sum=     10
     &gt;  positive value sum= 6
     &gt;  sum positive values= 6
     &gt;  single value sum     1234
     &gt;  single value product 1234
     &gt; [720, should be [720],
     &gt; [2, 12, 30, should be [2,12,30],
     &gt; [15, 48, should be [15, 48],
</pre></div>
</div>
</section>
<section id="id44">
<h3><strong>另见</strong><a class="headerlink" href="#id44" title="此标题的永久链接">#</a></h3>
<ul class="simple">
<li><p><span class="xref myst">co_reduce(3)</span></p></li>
<li><p><a class="reference external" href="https://en.wikipedia.org/wiki/Associative_property">associative:wipipedia</a></p></li>
</ul>
</section>
<section id="id45">
<h3><strong>标准</strong><a class="headerlink" href="#id45" title="此标题的永久链接">#</a></h3>
<p>Fortran 2018</p>
<section id="fortran-lang-intrinsic-descriptions-license-mit-urbanjost">
<h4>Fortran内置过程描述（许可证：MIT）&#64;urbanjost<a class="headerlink" href="#fortran-lang-intrinsic-descriptions-license-mit-urbanjost" title="此标题的永久链接">#</a></h4>
</section>
</section>
</section>
</section>

<div class="section">
   
</div>

              </article>
              

              
          </div>
          
      </div>
    </div>

  
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../../_static/scripts/pydata-sphinx-theme.js?digest=92025949c220c2e29695"></script>

<footer class="bd-footer"><div class="bd-footer__inner container">
  
  <div class="footer-item">
    <p class="copyright">
    &copy; Copyright 2020-2022, Fortran Community.<br>
</p>
  </div>
  
</div>
</footer>
  </body>
</html>